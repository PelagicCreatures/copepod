{"version":3,"file":"copepod.iife.js","sources":["../lib/Copepod.js","../lib/CopepodCLient.js","../index.js"],"sourcesContent":["// build Proxy to handle set and delete on an object's properties\nconst buildProxy = (self) => {\n\treturn {\n\t\tset (target, property, value) {\n\t\t\tReflect.set(target, property, value)\n\t\t\tself.sync(property)\n\t\t\treturn true\n\t\t},\n\t\tdeleteProperty (target, property) {\n\t\t\tReflect.deleteProperty(target, property)\n\t\t\tself.sync(property)\n\t\t\treturn true\n\t\t}\n\t}\n}\n\nclass Copepod {\n\tconstructor (uid, data = {}, options = {}) {\n\t\tthis.uid = uid\n\n\t\tthis.bindings = {} // watchers to sync on value change\n\n\t\tthis.data = new Proxy(data, buildProxy(this))\n\n\t\tthis.socket = null\n\n\t\tthis.options = options\n\t}\n\n\tdestroy () {\n\t\tObject.keys(this.bindings).forEach((k) => {\n\t\t\tthis.unbind(k)\n\t\t})\n\t}\n\n\tgetBoundData () {\n\t\treturn this.data\n\t}\n\n\tset (property, value) {\n\t\tif (this.get(property) !== value) {\n\t\t\tthis.data[property] = value\n\t\t}\n\t}\n\n\tget (property) {\n\t\treturn this.data[property]\n\t}\n\n\tdelete (property) {\n\t\tdelete this.data[property]\n\t}\n\n\tbind (id, fn) {\n\t\tthis.bindings[id] = fn\n\t\tObject.keys(this.data).forEach((k) => {\n\t\t\tfn(k, this.get(k))\n\t\t})\n\t}\n\n\tunbind (id) {\n\t\tif (this.bindings[id]) {\n\t\t\tdelete this.bindings[id]\n\t\t}\n\t}\n\n\tsyncAll () {\n\t\tObject.keys(this.data).forEach((k) => {\n\t\t\tthis.sync(k)\n\t\t})\n\t}\n\n\t// tell subscribers\n\tsync (property) {\n\t\tObject.keys(this.bindings).forEach((k) => {\n\t\t\tthis.bindings[k](property, this.get(property))\n\t\t})\n\t}\n}\n\nexport {\n\tCopepod\n}\n","import {\n\tutils\n}\n\tfrom '@pelagiccreatures/sargasso'\n\nimport {\n\tCopepod\n}\n\tfrom './Copepod.js'\n\n/*\n\tget and set input value for regular inputs and groups\n\n\tUses input grouping scheme from @pelagiccreatures/molamola\n*/\n\nconst getRealVal = (element) => {\n\tlet value = ''\n\n\t// collection of checkboxes or other inputs results in array of values\n\tif (element.getAttribute('data-group')) {\n\t\tconst group = element.closest('.input-group').querySelectorAll(element.getAttribute('data-group'))\n\t\tconst values = []\n\t\tfor (let i = 0; i < group.length; i++) {\n\t\t\tif (getRealVal(group[i])) {\n\t\t\t\tvalues.push(getRealVal(group[i]))\n\t\t\t}\n\t\t\tif (element.hasAttribute('multiple')) {\n\t\t\t\tvalue = values\n\t\t\t} else {\n\t\t\t\tvalue = values.length ? values[0] : ''\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (element.getAttribute('type') === 'checkbox' || element.getAttribute('type') === 'radio') {\n\t\t\tif (element.checked) {\n\t\t\t\tvalue = element.getAttribute('value')\n\t\t\t}\n\t\t} else if (element.tagName === 'SELECT') {\n\t\t\tconst selected = element.querySelectorAll('option:checked')\n\t\t\tconst values = Array.from(selected).map(el => el.value)\n\t\t\tif (element.hasAttribute('multiple')) {\n\t\t\t\tvalue = Array.from(values)\n\t\t\t} else {\n\t\t\t\tvalue = values[0]\n\t\t\t}\n\t\t} else if (element.tagName === 'OPTION') {\n\t\t\tvalue = element.selected ? element.getAttribute('value') : undefined\n\t\t} else {\n\t\t\tvalue = element.value\n\t\t}\n\t}\n\n\treturn value\n}\n\nconst setRealVal = (element, value) => {\n\tif (element.getAttribute('name') === 'select-multiple') {\n\t\tconsole.log(element, value)\n\t}\n\tif (element.getAttribute('data-group')) {\n\t\tif (!value) {\n\t\t\tvalue = []\n\t\t}\n\t\tconst group = element.closest('.input-group').querySelectorAll(element.getAttribute('data-group'))\n\t\tfor (let i = 0; i < group.length; i++) {\n\t\t\tconst e = group[i]\n\t\t\tif (e.getAttribute('type') === 'radio') {\n\t\t\t\tif (value == e.value) {\n\t\t\t\t\te.checked = true\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet index = -1\n\t\t\t\tfor (let j = 0; j < value.length; j++) {\n\t\t\t\t\tif (value[j] == e.value) {\n\t\t\t\t\t\tindex = j\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tif (e.getAttribute('type') === 'checkbox') {\n\t\t\t\t\t\te.checked = true\n\t\t\t\t\t} else if (e.tagName === 'OPTION') {\n\t\t\t\t\t\te.selected = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (element.getAttribute('type') === 'checkbox') {\n\t\t\telement.checked = value == element.value\n\t\t} else {\n\t\t\telement.value = value\n\t\t}\n\t}\n}\n\n// add input sync and socket.io-client sync to copepod\n\nclass CopepodClient extends Copepod {\n\tconstructor (uid, obj = {}, options) {\n\t\tsuper(uid, obj, options)\n\n\t\tthis.inputs = [] // all inputs to watch for value changes\n\n\t\tthis.authoritativeInputs = {} // inputs to keep in sync w/ properties\n\n\t\t// establish client connection using socket.io-client\n\t\tif (options.namespace) {\n\t\t\tlet url = options.url || ''\n\t\t\tif (options.namespace) {\n\t\t\t\turl += options.namespace\n\t\t\t}\n\n\t\t\tthis.socket = io(url)\n\n\t\t\tthis.socket.on('authenticated', (user) => {\n\t\t\t\tthis.socket.on('change', (e) => {\n\t\t\t\t\tconsole.log('change from server: ', e)\n\t\t\t\t\tthis.set(e.property, e.value)\n\t\t\t\t})\n\t\t\t\tthis.socket.emit('subscribe', this.uid)\n\t\t\t})\n\n\t\t\tthis.socket.on('error', (err) => {\n\t\t\t\tconsole.log('got error:', err)\n\t\t\t})\n\n\t\t\tthis.socket.on('autherror', (err) => {\n\t\t\t\tconsole.log('got autherror:', err)\n\t\t\t})\n\n\t\t\tthis.socket.emit('authenticate')\n\t\t}\n\t}\n\n\tdestroy () {\n\t\tthis.inputs.forEach((input) => {\n\t\t\tthis.detatchInput(input)\n\t\t})\n\n\t\tsuper.destroy()\n\t}\n\n\t// watch all inputs in the form for changes\n\tbindForm (form) {\n\t\tconst inputs = Array.from(form.querySelectorAll('input, select, textarea, button'))\n\t\tinputs.forEach((e) => {\n\t\t\tthis.bindInput(e)\n\t\t})\n\n\t\tthis.syncAll() // update the inputs from the current data values\n\t}\n\n\tbindInput (input) {\n\t\tlet theInput = input\n\t\tlet inputProp = input.getAttribute('name')\n\n\t\t// if the input is part of an input group (radio, checkbox, select \"multiple\")\n\t\t// find the authoritative input to sync\n\t\tlet group = null\n\t\tif (input.closest('.input-group')) {\n\t\t\tgroup = input.closest('.input-group').querySelector('[data-group]')\n\t\t\tif (group) {\n\t\t\t\ttheInput = group\n\t\t\t\tinputProp = group.getAttribute('name')\n\t\t\t}\n\t\t}\n\n\t\tif (!this.authoritativeInputs[inputProp]) {\n\t\t\tthis.authoritativeInputs[inputProp] = theInput\n\t\t}\n\n\t\t// watch input for change and sync\n\t\tif (this.inputs.indexOf(input) === -1) {\n\t\t\tthis.inputs.push(input)\n\n\t\t\t// sync property to authoritative input\n\t\t\tconst handler = (e) => {\n\t\t\t\tconst value = getRealVal(theInput)\n\n\t\t\t\tif (value !== this.data[inputProp]) {\n\t\t\t\t\tthis.set(inputProp, value)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst id = this.constructor.name + '-' + this.uid\n\t\t\tutils.elementTools.on(id, input, 'keyup change click blur', null, handler)\n\t\t}\n\t}\n\n\tunbindInput (input) {\n\t\tthis.inputs.splice(this.inputs.indexOf(input), 1)\n\n\t\tconst id = this.constructor.name + '-' + this.uid\n\t\tutils.elementTools.off(id, input, 'keyup change click blur', null)\n\t}\n\n\t// propagate change to server\n\tsync (property) {\n\t\tsuper.sync(property)\n\n\t\t// sync inputs (input <- this.data[property])\n\t\tObject.keys(this.authoritativeInputs).forEach((k) => {\n\t\t\tsetRealVal(this.authoritativeInputs[k], this.get(k))\n\t\t})\n\n\t\t// sync with server side if defined\n\t\tif (this.socket) {\n\t\t\tthis.socket.emit('change', {\n\t\t\t\tproperty: property,\n\t\t\t\tvalue: this.data[property]\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport {\n\tCopepodClient\n}\n","/**\n\t@PelagicCreatures/Copepod\n\n\tSargasso class that impelments lazy loaded images using background-image which always\n\tfits image within its container's dimensions\n\n\t@author Michael Rhodes\n\t@license MIT\n\tMade in Barbados ðŸ‡§ðŸ‡§ Copyright Â© 2020 Michael Rhodes\n\n**/\n\nimport {\n\tCopepodClient\n}\n\tfrom './lib/CopepodCLient.js'\n\nexport {\n\tCopepodClient\n}\n"],"names":["utils"],"mappings":"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"}